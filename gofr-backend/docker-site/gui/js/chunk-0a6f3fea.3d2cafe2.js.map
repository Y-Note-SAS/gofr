{"version":3,"sources":["webpack:///./node_modules/querystring-es3/decode.js","webpack:///./src/components/gofr/gofr-questionnaire.vue?fc5f","webpack:///src/components/gofr/gofr-questionnaire.vue","webpack:///./src/components/gofr/gofr-questionnaire.vue?75ad","webpack:///./src/components/gofr/gofr-questionnaire.vue","webpack:///./node_modules/querystring-es3/index.js","webpack:///./node_modules/querystring-es3/encode.js"],"names":["hasOwnProperty","obj","prop","Object","prototype","call","module","exports","qs","sep","eq","options","length","regexp","split","maxKeys","len","i","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","isArray","push","Array","xs","toString","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","model","value","callback","$$v","valid","expression","_t","attrs","overlay","on","$event","_v","staticStyle","$router","go","_s","$t","processFHIR","$refs","form","validate","_e","_l","section","key","id","staticRenderFns","name","props","data","fhir","loading","isEdit","advancedValid","methods","component","VBtn","VContainer","VDivider","VForm","VIcon","VList","VListItem","VListItemContent","VListItemSubtitle","VListItemTitle","VNavigationDrawer","VOverlay","VProgressCircular","VSpacer","VSubheader","decode","parse","encode","stringify","stringifyPrimitive","isFinite","undefined","map","objectKeys","ks","encodeURIComponent","join","f","res","keys"],"mappings":"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","file":"js/chunk-0a6f3fea.3d2cafe2.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"my-3\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_vm._t(\"default\"),_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-progress-circular',{attrs:{\"size\":\"50\",\"color\":\"primary\",\"indeterminate\":\"\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.overlay = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-navigation-drawer',{staticClass:\"primary darken-1 white--text\",staticStyle:{\"z-index\":\"3\"},attrs:{\"app\":\"\",\"right\":\"\",\"permanent\":\"\",\"clipped\":\"\"}},[_c('v-list',{staticClass:\"white--text\"},[_c('v-list-item',[_c('v-btn',{staticClass:\"secondary\",attrs:{\"small\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-pencil-off\")]),_c('span',[_vm._v(_vm._s(_vm.$t(\"App.hardcoded-texts.Cancel\")))])],1),_c('v-spacer'),(_vm.valid)?_c('v-btn',{staticClass:\"success darken-1\",attrs:{\"small\":\"\",\"dark\":\"\",\"disabled\":!_vm.valid},on:{\"click\":function($event){return _vm.processFHIR()}}},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-content-save\")]),_c('span',[_vm._v(_vm._s(_vm.$t(\"App.hardcoded-texts.Save\")))])],1):_c('v-btn',{staticClass:\"warning\",attrs:{\"dark\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.form.validate()}}},[_c('v-icon',{attrs:{\"light\":\"\"}},[_vm._v(\"mdi-content-save\")]),_c('span',[_vm._v(_vm._s(_vm.$t(\"App.hardcoded-texts.Save\")))])],1)],1),_c('v-divider',{attrs:{\"color\":\"white\"}}),(_vm.sectionMenu)?_c('v-subheader',{staticClass:\"white--text\"},[_c('h2',[_vm._v(\"Sections\")])]):_vm._e(),_vm._l((_vm.sectionMenu),function(section){return _c('v-list-item',{key:section.id,attrs:{\"href\":'#section-'+section.id}},[_c('v-list-item-content',{staticClass:\"white--text\"},[(section.title)?_c('v-list-item-title',{staticClass:\"text-uppercase\"},[_c('h4',[_vm._v(_vm._s(_vm.$t((\"App.fhir-resources-texts.\" + (section.title)))))])]):_vm._e(),(section.desc)?_c('v-list-item-subtitle',{staticClass:\"white--text\"},[_vm._v(\" \"+_vm._s(_vm.$t((\"App.fhir-resources-texts.\" + (section.desc))))+\" \")]):_vm._e()],1)],1)})],2)],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"my-3\">\n\n    <v-form\n      ref=\"form\"\n      v-model=\"valid\"\n    >\n\n      <slot></slot>\n      <v-overlay :value=\"overlay\">\n        <v-progress-circular\n          size=\"50\"\n          color=\"primary\"\n          indeterminate\n          ></v-progress-circular>\n        <v-btn icon @click=\"overlay = false\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-overlay>\n\n      <v-navigation-drawer\n        app\n        right\n        permanent\n        clipped\n        class=\"primary darken-1 white--text\"\n        style=\"z-index: 3;\"\n        >\n        <v-list class=\"white--text\">\n          <v-list-item>\n            <v-btn small dark class=\"secondary\" @click=\"$router.go(-1)\">\n              <v-icon light>mdi-pencil-off</v-icon>\n              <span>{{ $t(\"App.hardcoded-texts.Cancel\") }}</span>\n            </v-btn>\n            <v-spacer></v-spacer>\n            <v-btn small v-if=\"valid\" dark class=\"success darken-1\" @click=\"processFHIR()\" :disabled=\"!valid\">\n              <v-icon light>mdi-content-save</v-icon>\n              <span>{{ $t(\"App.hardcoded-texts.Save\") }}</span>\n            </v-btn>\n            <v-btn v-else dark small class=\"warning\" @click=\"$refs.form.validate()\">\n              <v-icon light>mdi-content-save</v-icon>\n              <span>{{ $t(\"App.hardcoded-texts.Save\") }}</span>\n            </v-btn>\n          </v-list-item>\n          <v-divider color=\"white\"></v-divider>\n          <v-subheader class=\"white--text\" v-if=\"sectionMenu\"><h2>Sections</h2></v-subheader>\n          <v-list-item v-for=\"section in sectionMenu\" :href=\"'#section-'+section.id\" :key=\"section.id\">\n            <v-list-item-content class=\"white--text\">\n              <v-list-item-title class=\"text-uppercase\" v-if=\"section.title\">\n                <h4>{{ $t(`App.fhir-resources-texts.${section.title}`) }}</h4>\n              </v-list-item-title>\n              <v-list-item-subtitle class=\"white--text\" v-if=\"section.desc\">\n                {{$t(`App.fhir-resources-texts.${section.desc}`)}}\n              </v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list>\n\n      </v-navigation-drawer>\n    </v-form>\n  </v-container>\n\n</template>\n\n<script>\nimport axios from 'axios'\nconst querystring = require('querystring')\nexport default {\n  name: \"gofr-questionnaire\",\n  props: [\"id\", \"url\", \"title\", \"description\", \"purpose\", \"section-menu\", \"view-page\", \"edit\", \"constraints\"],\n  data: function() {\n    return {\n      fhir: {},\n      loading: false,\n      overlay: false,\n      isEdit: false,\n      valid: true,\n      advancedValid: true\n    }\n  },\n  methods: {\n    processFHIR: async function() {\n      this.$refs.form.validate()\n      if ( !this.valid ) return\n      this.advancedValid = true\n      this.overlay = true\n      this.loading = true\n\n      const processChildren = async ( obj, children, itemMap ) => {\n        //console.log(\"called on \"+parent)\n        if ( !itemMap ) itemMap = {}\n\n        for ( let child of children ) {\n\n          let next = obj\n          let myItemMap = {}\n\n          if ( child.isArray ) {\n            //console.log(\"ARRAY\", child.path)\n          } else if ( child.isQuestionnaireGroup ) {\n            //console.log(\"GROUP\", child.path)\n            let section = { linkId: child.path, text: child.label, item: [] }\n            next.push( section )\n            next = section.item\n          } else if ( child.qField ) {\n            //console.log(\"PROCESS\",path,child.qField,child.value)\n            let item\n            if ( itemMap.hasOwnProperty( child.path ) ) {\n              item = itemMap[ child.path ]\n            } else {\n              item = { linkId: child.path, answer: [] }\n              itemMap[child.path] = item\n              next.push( item )\n            }\n            let answer = {}\n            answer[child.qField] = child.value\n            item.answer.push( answer )\n            if ( child.constraints ) {\n              child.errors = []\n              try {\n                this.advancedValid = this.advancedValid && await this.$fhirutils.checkConstraints( child.constraints,\n                  this.constraints, child.value, child.errors )\n              } catch( err ) {\n                this.advancedValid = false\n                child.errors.push(\"An unknown error occurred.\")\n                console.log(err)\n              }\n            }\n          }\n\n          if ( child.$children ) {\n            //console.log(\"PROCESSING CHILDREN OF\",child.path)\n            try {\n              await processChildren( next, child.$children, myItemMap )\n            } catch( err ) {\n              this.advancedValid = false\n              console.log(err)\n            }\n\n          }\n          if ( child.isQuestionnaireGroup && child.constraints ) {\n            child.errors = []\n            try {\n              this.advancedValid = this.advancedValid && await this.$fhirutils.checkConstraints( child.constraints,\n                this.constraints, next, child.errors )\n            } catch( err ) {\n              this.advancedValid = false\n              child.errors.push(\"An unknown error occurred.\")\n              console.log(err)\n            }\n          }\n\n\n        }\n\n      }\n\n\n      //console.log(this.field)\n      this.fhir = {\n        resourceType: \"QuestionnaireResponse\",\n        questionnaire: this.url,\n        status: \"completed\",\n        item: []\n      }\n      try {\n        await processChildren( this.fhir.item, this.$children )\n      } catch( err ) {\n        this.advancedValid = false\n        console.log(err)\n      }\n      if ( !this.advancedValid ) {\n        this.overlay = false\n        this.loading = false\n        this.$store.commit('setMessage', { type: 'error', text: 'There were errors on the form.' })\n        return\n      }\n      axios({\n        url: \"/fhir/\" + this.$store.state.config.userConfig.FRDatasource + \"/QuestionnaireResponse?\"+querystring.stringify(this.$route.query),\n        method: \"POST\",\n        data: this.fhir\n      }).then((response) => {\n        this.overlay = false\n        this.loading = false\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '600px'\n        this.$store.state.alert.msg = 'Saved successfully!'\n        this.$store.state.alert.type = 'success'\n        this.$router.push({ name:\"ResourceView\", params: {page: this.viewPage, id: response.data.subject.reference.split('/')[1] } })\n      }).catch(err => {\n        this.overlay = false\n        this.loading = false\n        console.log(err)\n        this.$store.state.alert.show = true\n        this.$store.state.alert.width = '600px'\n        this.$store.state.alert.msg = 'Failed to save!'\n        this.$store.state.alert.type = 'error'\n      } )\n    }\n  }\n}\n\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gofr-questionnaire.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./gofr-questionnaire.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./gofr-questionnaire.vue?vue&type=template&id=363edfd6&\"\nimport script from \"./gofr-questionnaire.vue?vue&type=script&lang=js&\"\nexport * from \"./gofr-questionnaire.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBtn,VContainer,VDivider,VForm,VIcon,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VNavigationDrawer,VOverlay,VProgressCircular,VSpacer,VSubheader})\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n"],"sourceRoot":""}